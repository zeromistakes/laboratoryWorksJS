<!DOCTYPE html>
<html>
<head>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/mocha/3.2.0/mocha.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mocha/3.2.0/mocha.js"></script>
    <script>
        mocha.setup('bdd');
    </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/chai/3.5.0/chai.js"></script>
    <script>
        let assert = chai.assert;
    </script>
</head>
<body>
<script>
    function pow(x, n) {
        if(x === 0 && n === 0) return NaN;
        if (n === 0) return 1;
        if (n < 0) return NaN;
        if (Math.round(n) !== n) return NaN;
        let result = 1;
        for (let i = 0; i < n; i++) {
            result *= x;
        }
        return result;
    }
</script>

<script>
    describe("pow", function() {
        describe("pows x ^ 3", function() {
            function makeTest(x) {
                let expected = x * x * x;
                it(`${x} ^ 3 = ${expected}`, function() {
                    assert.equal(pow(x, 3), expected);
                });
            }
            for (let x = 1; x <= 5; x++) {
                makeTest(x);
            }
        });
        it("for negative n returns NaN", function() {
            assert.isNaN(pow(2, -1));
        });
        it("for fractional n returns NaN", function() {
            assert.isNaN(pow(2, 1.5));
        });
        it("0 ^ 0 = NaN", function() {
            assert.isNaN(pow(0, 0));
        });
        it("x ^ 0 = 1", function() {
            assert.equal(pow(5, 0),1);
        });
    });
</script>
<div id="mocha"></div>

<script>
    mocha.run();
</script>
</body>
</html>